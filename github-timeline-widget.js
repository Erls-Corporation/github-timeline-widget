var GitHubTimelineApi,__bind=function(f,a){return function(){return f.apply(a,arguments)}};
GitHubTimelineApi=function(){function f(){}f.prototype._strongify=function(a){return"<strong>"+a+"</strong>"};f.prototype.formatAsTimeAgo=function(a){var b;b=((new Date).getTime()-a.getTime())/1E3;a=Math.floor(b/86400);if(isNaN(a)||a<0)return null;if(a===0)if(b<60)return"just now";else if(b<120)return"1 minute ago";else if(b<3600)return""+Math.floor(b/60)+" minutes ago";else if(b<7200)return"1 hour ago";else{if(b<86400)return""+Math.floor(b/3600)+" hours ago"}else return a===1?"Yesterday":a<7?""+
a+" days ago":""+Math.ceil(a/7)+" weeks ago"};f.prototype._parseGitHubEvent=function(a){var b,d,c,e,g;g=(a.url!=null?a.url:void 0)||(((e=a.payload)!=null?e.url:void 0)!=null?a.payload.url:void 0)||"https://github.com";g=g.replace("github.com//","github.com/");e=(new Date((a.created_at!=null?a.created_at:void 0)||0)).valueOf();if(a.repository!=null)d=this._strongify(""+a.repository.owner+"/"+a.repository.name);switch(a.type){case "CreateEvent":b="https://github.com/images/modules/dashboard/news/create.png";
switch(a.payload.object){case "repository":c="created repo "+d;break;case "tag":c="created tag "+this._strongify(a.payload.object_name)+" at "+d;break;case "branch":c="created branch "+this._strongify(a.payload.object_name)+" at "+d}break;case "MemberEvent":switch(a.payload.action){case "added":b="https://github.com/images/modules/dashboard/news/member_add.png";c="added "+this._strongify(a.payload.member)+" to "+d}break;case "PushEvent":a=a.payload.ref.substr(a.payload.ref.lastIndexOf("/")+1);b="https://github.com/images/modules/dashboard/news/push.png";
c="pushed to "+this._strongify(a)+" at "+d;break;case "ForkApplyEvent":b="https://github.com/images/modules/dashboard/news/merge.png";c="merged to "+d;break;case "ForkEvent":b="https://github.com/images/modules/dashboard/news/fork.png";c="forked "+d;break;case "WatchEvent":switch(a.payload.action){case "started":b="https://github.com/images/modules/dashboard/news/watch_started.png";c="started watching "+d;break;case "stopped":b="https://github.com/images/modules/dashboard/news/watch_stopped.png";
c="stopped watching "+d}break;case "FollowEvent":c=null;break;case "IssuesEvent":case "PullRequestEvent":switch(a.payload.action){case "opened":case "reopened":b="https://github.com/images/modules/dashboard/news/issues_opened.png";c="opened issued on "+d;break;case "closed":b="https://github.com/images/modules/dashboard/news/issues_closed.png";c="closed issue on "+d}break;case "GistEvent":b="https://github.com/images/modules/dashboard/news/gist.png";switch(a.payload.action){case "create":c="created "+
this._strongify(a.payload.name);break;case "update":c="updated "+this._strongify(a.payload.name);break;case "fork":c="forked "+this._strongify(a.payload.name)}break;case "WikiEvent":case "GollumEvent":b="https://github.com/images/modules/dashboard/news/wiki.png";switch(a.payload.action){case "created":c="created a wiki page on "+d;break;case "edited":c="edited a wiki page on "+d}break;case "CommitCommentEvent":b="https://github.com/images/modules/dashboard/news/comment.png";c="commented on "+d;break;
case "DeleteEvent":b="https://github.com/images/modules/dashboard/news/delete.png";switch(a.payload.ref_type){case "branch":c="deleted branch "+this._strongify(a.payload.ref)+" at "+d}break;case "PublicEvent":b="https://github.com/images/modules/dashboard/news/public.png";c="open sourced "+d;break;case "DownloadEvent":c=null}return c!=null?[g,b,e,c]:[]};f.prototype._parseGitHubTimeline=function(a,b){var d,c,e,g;c=[];e=0;for(g=a.length;e<g;e++){d=a[e];d=this._parseGitHubEvent(d);d.length&&c.push(d)}return b(c)};
f.prototype.getTimelineForUser=function(a,b){jQuery.ajaxSetup({cache:true});return jQuery.getJSON("https://github.com/"+a+".json?callback=?",__bind(function(d){return this._parseGitHubTimeline(d,b)},this))};return f}();
jQuery.fn.githubTimelineWidget=function(f){var a,b,d,c,e,g,p;a={username:"timeline",limit:5};c=document.getElementsByTagName("script");e=0;for(g=c.length;e<g;e++){b=c[e];if((p=b.src)!=null?p.match(/github-timeline-widget\.js/):void 0){d=b.src.replace(/github-timeline-widget\.js.*$/,"");break}}d!=null&&jQuery("<link/>").attr("rel","stylesheet").attr("type","text/css").attr("href",d+"github-timeline-widget.css").prependTo("head");return this.each(function(){var m,o,i,q;i=this;m=jQuery(this);i.opts=
jQuery.extend({},a,f);jQuery("<a>").attr("class","github-timeline-header").attr("href","https://github.com/"+i.opts.username).text(""+i.opts.username+" on GitHub").appendTo(m);q=jQuery("<ul>").attr("class","github-timeline-events").appendTo(m);o=new GitHubTimelineApi;return o.getTimelineForUser(i.opts.username,function(r){var j,h,k,s,t,l,n,u;s=i.opts.limit;n=0;for(u=r.length;n<u;n++){h=r[n];if(s--===0)break;k=h[0];j=h[1];l=h[2];t=h[3];h=jQuery("<li>").attr("class","github-timeline-event").appendTo(q);
k=jQuery("<a>").attr("href",k);j&&jQuery("<img>").attr("src",j).appendTo(h).wrap(jQuery("<div>").attr("class","github-timeline-event-icon")).wrap(k);j=jQuery("<div>").attr("class","github-timeline-event-text").html(t).appendTo(h).wrapInner(k);if(l)(l=o.formatAsTimeAgo(new Date(l)))&&jQuery("<div>").attr("class","github-timeline-event-time").text(l).appendTo(j)}return jQuery("<a>").attr("class","github-timeline-source-link").attr("href","https://github.com/alindeman/github-timeline-widget").text("GitHub Timeline Widget").appendTo(m)})})};