(function(){var e,q,x=function(g,a){return function(){return g.apply(a,arguments)}};e=jQuery;q=function(){function g(){}g.prototype._strongify=function(a){return"<strong>"+a+"</strong>"};g.prototype.formatAsTimeAgo=function(a){var b;b=((new DateTime).getTime-a.getTime)/1E3;a=Math.floor(b/86400);if(isNaN(a||a<0))return null;if(a===0)if(b<60)return"just now";else if(b<120)return"1 minute ago";else if(b<3600)return""+Math.floor(b/60)+" minutes ago";else if(b<7200)return"1 hour ago";else{if(b<86400)return""+
Math.floor(b/3600)+" hours ago"}else return a===1?"Yesterday":a<7?""+a+" days ago":""+Math.ceil(a/7)+" weeks ago"};g.prototype._parseGitHubEvent=function(a){var b,d,c,f,h;h=(a.url!=null?a.url:void 0)||(((f=a.payload)!=null?f.url:void 0)!=null?a.payload.url:void 0)||"https://github.com";h=h.replace("github.com//","github.com/");f=new Date((a.created_at!=null?a.created_at:void 0)||0);if(a.repository!=null)d=this._strongify(""+a.repository.owner+"/"+a.repository.name);switch(a.type){case "CreateEvent":b=
"https://github.com/images/modules/dashboard/news/create.png";switch(a.payload.object){case "repository":c="created repo "+d;break;case "tag":c="created tag "+this._strongify(a.payload.object_name)+" at "+d;break;case "branch":c="created branch "+this._strongify(a.payload.object_name)+" at "+d}break;case "MemberEvent":switch(a.payload.action){case "added":b="https://github.com/images/modules/dashboard/news/member_add.png";c="added "+this._strongify(a.payload.member)+" to "+d}break;case "PushEvent":a=
a.payload.ref.substr(a.payload.ref.lastIndexOf("/")+1);b="https://github.com/images/modules/dashboard/news/push.png";c="pushed to "+this._strongify(a)+" at "+d;break;case "ForkApplyEvent":b="https://github.com/images/modules/dashboard/news/merge.png";c="merged to "+d;break;case "ForkEvent":b="https://github.com/images/modules/dashboard/news/fork.png";c="forked "+d;break;case "WatchEvent":switch(a.payload.action){case "started":b="https://github.com/images/modules/dashboard/news/watch_started.png";
c="started watching "+d;break;case "stopped":b="https://github.com/images/modules/dashboard/news/watch_stopped.png";c="stopped watching "+d}break;case "FollowEvent":c=null;break;case "IssuesEvent":case "PullRequestEvent":switch(a.payload.action){case "opened":case "reopened":b="https://github.com/images/modules/dashboard/news/issues_opened.png";c="opened issued on "+d;break;case "closed":b="https://github.com/images/modules/dashboard/news/issues_closed.png";c="closed issue on "+d}break;case "GistEvent":b=
"https://github.com/images/modules/dashboard/news/gist.png";switch(a.payload.action){case "create":c="created "+this._strongify(a.payload.name);break;case "update":c="updated "+this._strongify(a.payload.name);break;case "fork":c="forked "+this._strongify(a.payload.name)}break;case "WikiEvent":case "GollumEvent":b="https://github.com/images/modules/dashboard/news/wiki.png";switch(a.payload.action){case "created":c="created a wiki page on "+d;break;case "edited":c="edited a wiki page on "+d}break;case "CommitCommentEvent":b=
"https://github.com/images/modules/dashboard/news/comment.png";c="commented on "+d;break;case "DeleteEvent":b="https://github.com/images/modules/dashboard/news/delete.png";switch(a.payload.ref_type){case "branch":c="deleted branch "+this._strongify(a.payload.ref)+" at "+d}break;case "PublicEvent":c=null;break;case "DownloadEvent":c=null}return c!=null?[h,b,f,c]:[]};g.prototype._parseGitHubTimeline=function(a,b){var d,c,f,h;c=[];f=0;for(h=a.length;f<h;f++){d=a[f];d=this._parseGitHubEvent(d);d.length&&
c.push(d)}return b(c)};g.prototype.getTimelineForUser=function(a,b){e.ajaxSetup({cache:true});return e.getJSON("https://github.com/"+a+".json?callback=?",x(function(d){return this._parseGitHubTimeline(d,b)},this))};return g}();e=jQuery;e.fn.githubTimelineWidget=function(g){var a,b,d,c,f,h,r;a={username:"timeline",limit:5};c=document.getElementsByTagName("script");f=0;for(h=c.length;f<h;f++){b=c[f];if((r=b.src)!=null?r.match(/github-timeline-widget\.js/):void 0){d=b.src.replace(/github-timeline-widget\.js.*$/,
"");break}}d!=null&&e("<link/>").attr("rel","stylesheet").attr("type","text/css").attr("href",d+"github-timeline-widget.css").prependTo("head");return this.each(function(){var n,p,j,s;j=this;n=e(this);j.opts=e.extend({},a,g);e("<a>").attr("class","github-timeline-header").attr("href","https://github.com/"+j.opts.username).text(""+j.opts.username+" on GitHub").appendTo(n);s=e("<ul>").attr("class","github-timeline-events").appendTo(n);p=new q;return p.getTimelineForUser(j.opts.username,function(t){var k,
i,l,u,v,m,o,w;u=j.opts.limit;o=0;for(w=t.length;o<w;o++){i=t[o];if(u--===0)break;l=i[0];k=i[1];m=i[2];v=i[3];i=e("<li>").attr("class","github-timeline-event").appendTo(s);l=e("<a>").attr("href",l);k&&e("<img>").attr("src",k).appendTo(i).wrap(e("<div>").attr("class","github-timeline-event-icon")).wrap(l);k=e("<div>").attr("class","github-timeline-event-text").html(v).appendTo(i).wrapInner(l);if(m.valueOf>0)(m=p.formatAtTimeAgo(m))&&e("<div>").attr("class","github-timeline-event-time").text(m).appendTo(k)}return e("<a>").attr("class",
"github-timeline-source-link").attr("href","https://github.com/alindeman/github-timeline-widget").text("GitHub Timeline Widget").appendTo(n)})})}}).call(this);